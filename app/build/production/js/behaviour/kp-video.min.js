!function(){return $.fn.kpVideo=function(t){var a,e;a={autoplay:!1,preload:"none",loop:!1},e=$.extend({},a,t),$(this).each(function(){var t,a,n,r,i,s,l,c,d,o,u,f,p,v,h,m,b,w,y,k,g;return v=$.extend({},e,$(this).data()),t=$(this),d=this,$(this).removeAttr("controls"),v.autoplay===!0&&$(this).attr("autoplay","autoplay"),v.loop===!0&&$(this).attr("loop","loop"),$(this).attr("preload",v.preload),$(this).addClass("video-section"),$(this).wrap('<div class="video-play-section">'),i='<a href="#" data-btn="backward"><i class="fa fa-backward"></i></a>',i+='<a href="#" data-btn="play"><i class="fa fa-play"></i></a>',i+='<a href="#" data-btn="pause"><i class="fa fa-pause"></i></a>',i+='<a href="#"  data-btn="stop"><i class="fa fa-stop"></i></a>',i+='<a href="#"  data-btn="forward"><i class="fa fa-forward"></i></a>',s='<div class="video-play-commands">'+i,$(this).after(s),c='<div class="price-slide-pre-load-val"></div><div class="price-slide-val"></div><div class="val-icon"></div>',l='<div class="video-play-status"><div class="price-slide-section"><div class="price-slide">'+c,$(this).after(l),$(this).css({width:"100%",height:"auto"}),b=$(this.parentElement).find("[data-btn=backward]"),m=$(this.parentElement).find("[data-btn=play]"),h=$(this.parentElement).find("[data-btn=pause]"),w=$(this.parentElement).find("[data-btn=stop]"),o=$(this.parentElement).find("[data-btn=forward]"),y="",k="",p="",f="",g=t.width(),u=$(t.parent()).find("div.val-icon").width(),g-=u-5,n=$(t.parent()).find("div.val-icon"),r=$(t.parent()).find("div.price-slide-val"),a=$(t.parent()).find("div.price-slide-pre-load-val"),n.draggable({containment:"parent",drag:function(){var t,a;return a=parseFloat($(this).css("left")),t=a/g*100,$(n).css("left",t-1+"%"),$(r).css("width",t+"%"),y=d.duration*(t/100),d.currentTime=y}}),$(this.parentElement).find(".price-slide").on("click",function(t){var a,e;return e=t.pageX-$(this).offset().left,a=e/g*100,$(n).css("left",a-1+"%"),$(r).css("width",a+"%"),y=d.duration*(a/100),d.currentTime=y}),$(window).on("resize",function(){return g=t.width(),u=t.width()}),$(this.parentElement).find("a[data-btn]").on("click",function(a){return a.preventDefault(),$(t.parent()).find("a[data-btn]").find("i").removeClass("active"),$(this).find("i").addClass("active")}),$(m).on("click",function(a){return a.preventDefault(),d.currentTime=y,d.playbackRate=1,clearInterval(p),clearInterval(f),$(t).trigger("play")}),$(h).on("click",function(a){return a.preventDefault(),d.playbackRate=1,clearInterval(p),clearInterval(f),$(t).trigger("pause")}),$(w).on("click",function(a){return a.preventDefault(),d.playbackRate=1,clearInterval(p),clearInterval(f),$(t).currentTime=0,y=0,$(r).css("width","0%"),$(n).css("left","0%"),$(t).trigger("load")}),$(b).on("click",function(a){return a.preventDefault(),clearInterval(f),$(t).trigger("pause"),p=setInterval(function(){var t;return d.playbackRate=1,y=d.currentTime,t=d.currentTime/d.duration*100,$(r).css("width",t+"%"),$(n).css("left",t-1+"%"),0===d.currentTime?(clearInterval(p),d.pause()):d.currentTime+=-.1},30)}),$(o).on("click",function(t){return t.preventDefault(),clearInterval(p),f=setInterval(function(){return d.playbackRate=3,y=d.currentTime,0===d.currentTime?(clearInterval(f),d.pause()):void 0},30)}),$(this).on("progress",function(){var t;return t=d.buffered.end(0)/d.duration*100,$(a).css("width",t+"%")}),$(this).on("loadeddata",function(){return $(t).currentTime=y},!1),$(this).on("timeupdate",function(){var t;return t=this.currentTime/this.duration*100,$(r).css("width",t+"%"),$(n).css("left",t-1+"%")}),$(this).on("ended",function(){return y=0})})}}(jQuery);